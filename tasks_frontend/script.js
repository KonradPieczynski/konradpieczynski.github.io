$(document).ready(function(){function t(t){var a=$(c).clone();return a.attr("data-task-id",t.id),a.find("[data-task-name-section] [data-task-name-paragraph]").text(t.title),a.find("[data-task-name-section] [data-task-name-input]").val(t.title),a.find("[data-task-content-section] [data-task-content-paragraph]").text(t.content),a.find("[data-task-content-section] [data-task-content-input]").val(t.content),a}function a(a){r.empty(),a.forEach(function(a){t(a).appendTo(r)})}function n(){var t=o;$.ajax({url:t,method:"GET",success:a})}function e(){var t=$(this).parent().parent(),a=t.attr("data-task-id"),n=t.find("[data-task-name-input]").val(),e=t.find("[data-task-content-input]").val(),i=o;$.ajax({url:i,method:"PUT",processData:!1,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify({id:a,title:n,content:e}),success:function(a){t.attr("data-task-id",a.id).toggleClass("datatable__row--editing"),t.find("[data-task-name-paragraph]").text(n),t.find("[data-task-content-paragraph]").text(e)}})}function i(){var t=$(this).parent().parent(),a=t.attr("data-task-id"),n=o;$.ajax({url:n+"/"+a,method:"DELETE",success:function(){t.slideUp(400,function(){t.remove()})}})}function d(t){t.preventDefault();var a=$(this).find('[name="title"]').val(),e=$(this).find('[name="content"]').val(),i=o;$.ajax({url:i,method:"POST",processData:!1,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify({title:a,content:e}),complete:function(t){200===t.status&&n()}})}function s(){var t=$(this).parent().parent();t.toggleClass("datatable__row--editing");var a=t.find("[data-task-name-paragraph]").text(),n=t.find("[data-task-content-paragraph]").text();t.find("[data-task-name-input]").val(a),t.find("[data-task-content-input]").val(n)}var o="https://tasks-228t.onrender.com/v1/tasks",c=$("[data-datatable-row-template]").children()[0],r=$("[data-tasks-container]");n(),$("[data-task-add-form]").on("submit",d),r.on("click","[data-task-edit-button]",s),r.on("click","[data-task-edit-abort-button]",s),r.on("click","[data-task-submit-update-button]",e),r.on("click","[data-task-delete-button]",i)});